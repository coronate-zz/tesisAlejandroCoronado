ad
ad
ad
print('CALCULANDO n-1')
asqw
topDown_Catalan(5)
buttomUp_Catalan<-function(n)
{
for(i in 1:n)
{
valores[i]<- -1
}
valores[1]<-1
for(i in 1:n)
{
valore[i]==0
suma<-0
for(j in 1:i)
{
if(j>=2)
{
suma<-suma + valores[j]*valores[j-1]
}
else
{
suma<-suma+1
}
}
valores[i]<-suma
}
}
buttomUp_Catalan<-function(n)
{
valores<-list()
valores[1]<-1
for(i in 1:n)
{
valores[i]==0
suma<-0
for(j in 1:i)
{
if(j>=2)
{
suma<-suma + valores[j]*valores[j-1]
}
else
{
suma<-suma+1
}
}
valores[i]<-suma
}
}
buttomUp_Catalan(2)
buttomUp_Catalan<-function(n)
{
valores<-list()
valores[1]<-1
}
buttomUp_Catalan(4)
buttomUp_Catalan<-function(n)
{
valores<-list()
valores[1]<-1
for(i in 1:n)
{
valores[i]==0
suma<-0
for(j in 1:i)
{
if(j>=2)
{
suma<-suma + valores[j]*valores[j-1]
}
else
{
suma<-suma+1
}
}
valores[i]<-suma
}
return(valores[n])
}
buttomUp_Catalan(5)
buttomUp_Catalan<-function(n)
{
valores<-list()
valores[1]<-1
for(i in 1:n)
{
valores[i]<-0
suma<-0
for(j in 1:i)
{
if(j>=2)
{
suma<-suma + valores[j]*valores[j-1]
}
else
{
suma<-suma+1
}
}
valores[i]<-suma
}
return(valores[n])
}
buttomUp_Catalan(5)
buttomUp_Catalan<-function(n)
{
valores<-list()
valores[1]<-1
for(i in 1:n)
{
valores[i]<-0
suma<-0
for(j in 1:i)
{
if(j>=2)
{
suma<-suma + as.numeric(valores[j])* as.numeric(valores[j-1])
}
else
{
suma<-suma+1
}
}
valores[i]<-suma
}
return(valores[n])
}
buttomUp_Catalan(5)
buttomUp_Catalan(6)
buttomUp_Catalan(7)
buttomUp_Catalan<-function(n)
{
valores<-list()
valores[1]<-1
for(i in 1:n)
{
valores[i]<-0
suma<-0
for(j in 1:i)
{
if(j>=2)
{
suma<-suma + as.numeric(valores[j])* as.numeric(valores[j-1])
}
else
{
suma<-suma+1
}
}
valores[i]<-suma
}
print(unlist(valores))
return(valores[n])
}
buttomUp_Catalan(7)
buttomUp_Catalan<-function(n)
{
n<-n+1
valores<-list()
valores[1]<-1
for(i in 1:n)
{
valores[i]<-0
suma<-0
for(j in 1:i)
{
if(j>=2)
{
suma<-suma + as.numeric(valores[j])* as.numeric(valores[j-1])
}
else
{
suma<-suma+1
}
}
valores[i]<-suma
}
print(unlist(valores))
return(valores[n])
}
buttomUp_Catalan(7)
buttomUp_Catalan(5)
floor(6)
floor(6.q)
floor(6.1)
floor(7/2)
floor(3.6)
rm(list = ls())
instalar <- function(paquete) {
if (!require(paquete,character.only = TRUE, quietly = TRUE, warn.conflicts = FALSE)) {
install.packages(as.character(paquete), dependecies = TRUE, repos = "http://cran.us.r-project.org")
library(paquete, character.only = TRUE, quietly = TRUE, warn.conflicts = FALSE)
}
}
paquetes <- c('lubridate', 'magrittr', 'ggvis', 'dplyr', 'tidyr', 'readr', 'rvest',
'ggplot2', 'stringr', 'ggthemes', 'googleVis', 'shiny', 'tibble', 'vcd', 'vcdExtra',
'GGally', 'readODS', 'readxl', "RSQLite")
lapply(paquetes, instalar);
glimpse(MASS::Boston)
with(MASS::Boston, table(medv))
with(MASS::Boston, hist(medv))
ggplot(MASS::Boston, aes(medv)) +
geom_histogram() +
ylab("") + xlab("Valor medio de las casas (1000s USD)")
rm(list = ls())
instalar <- function(paquete) {
if (!require(paquete,character.only = TRUE, quietly = TRUE, warn.conflicts = FALSE)) {
install.packages(as.character(paquete), dependecies = TRUE, repos = "http://cran.us.r-project.org")
library(paquete, character.only = TRUE, quietly = TRUE, warn.conflicts = FALSE)
}
}
paquetes <- c('lubridate', 'magrittr', 'ggvis', 'dplyr', 'tidyr', 'readr', 'rvest',
'ggplot2', 'stringr', 'ggthemes', 'googleVis', 'shiny', 'tibble', 'vcd', 'vcdExtra',
'GGally', 'readODS', 'readxl', "RSQLite")
lapply(paquetes, instalar);
install.packages(rvest)
install.packages('rvest')
install.packages('rvest')
ggplot(MASS::Boston, aes(medv)) +
geom_histogram() +
ylab("") + xlab("Valor medio de las casas (1000s USD)")
rm(list = ls())
instalar <- function(paquete) {
if (!require(paquete,character.only = TRUE, quietly = TRUE, warn.conflicts = FALSE)) {
install.packages(as.character(paquete), dependecies = TRUE, repos = "http://cran.us.r-project.org")
library(paquete, character.only = TRUE, quietly = TRUE, warn.conflicts = FALSE)
}
}
paquetes <- c('lubridate', 'magrittr', 'ggvis', 'dplyr', 'tidyr', 'readr', 'rvest',
'ggplot2', 'stringr', 'ggthemes', 'googleVis', 'shiny', 'tibble', 'vcd', 'vcdExtra',
'GGally', 'readODS', 'readxl', "RSQLite")
lapply(paquetes, instalar);
rm(list = ls())
instalar <- function(paquete) {
if (!require(paquete,character.only = TRUE, quietly = TRUE, warn.conflicts = FALSE)) {
install.packages(as.character(paquete), dependecies = TRUE, repos = "http://cran.us.r-project.org")
library(paquete, character.only = TRUE, quietly = TRUE, warn.conflicts = FALSE)
}
}
paquetes <- c('lubridate', 'magrittr', 'ggvis', 'dplyr', 'tidyr', 'readr',
'ggplot2', 'stringr', 'ggthemes', 'googleVis', 'shiny', 'tibble', 'vcd', 'vcdExtra',
'GGally', 'readODS', 'readxl', "RSQLite")
lapply(paquetes, instalar);
rm(list = ls())
instalar <- function(paquete) {
if (!require(paquete,character.only = TRUE, quietly = TRUE, warn.conflicts = FALSE)) {
install.packages(as.character(paquete), dependecies = TRUE, repos = "http://cran.us.r-project.org")
library(paquete, character.only = TRUE, quietly = TRUE, warn.conflicts = FALSE)
}
}
paquetes <- c('lubridate', 'magrittr', 'ggvis', 'dplyr', 'tidyr', 'readr',
'ggplot2', 'stringr', 'googleVis', 'shiny', 'tibble', 'vcd', 'vcdExtra',
'GGally', 'readODS', 'readxl', "RSQLite")
lapply(paquetes, instalar);
rm(list = ls())
instalar <- function(paquete) {
if (!require(paquete,character.only = TRUE, quietly = TRUE, warn.conflicts = FALSE)) {
install.packages(as.character(paquete), dependecies = TRUE, repos = "http://cran.us.r-project.org")
library(paquete, character.only = TRUE, quietly = TRUE, warn.conflicts = FALSE)
}
}
paquetes <- c('lubridate', 'magrittr', 'ggvis', 'dplyr', 'tidyr', 'readr',
'ggplot2', 'stringr', 'shiny', 'tibble', 'vcd', 'vcdExtra',
'GGally', 'readODS', 'readxl', "RSQLite")
lapply(paquetes, instalar);
rm(list = ls())
instalar <- function(paquete) {
if (!require(paquete,character.only = TRUE, quietly = TRUE, warn.conflicts = FALSE)) {
install.packages(as.character(paquete), dependecies = TRUE, repos = "http://cran.us.r-project.org")
library(paquete, character.only = TRUE, quietly = TRUE, warn.conflicts = FALSE)
}
}
paquetes <- c('lubridate', 'magrittr', 'ggvis', 'dplyr', 'tidyr', 'readr',
'ggplot2', 'stringr', 'shiny', 'tibble', 'vcdExtra',
'GGally', 'readODS', 'readxl', "RSQLite")
lapply(paquetes, instalar);
rm(list = ls())
instalar <- function(paquete) {
if (!require(paquete,character.only = TRUE, quietly = TRUE, warn.conflicts = FALSE)) {
install.packages(as.character(paquete), dependecies = TRUE, repos = "http://cran.us.r-project.org")
library(paquete, character.only = TRUE, quietly = TRUE, warn.conflicts = FALSE)
}
}
paquetes <- c('lubridate', 'magrittr', 'ggvis', 'dplyr', 'tidyr', 'readr',
'ggplot2', 'stringr', 'shiny', 'tibble',
'GGally', 'readODS', 'readxl', "RSQLite")
lapply(paquetes, instalar);
rm(list = ls())
instalar <- function(paquete) {
if (!require(paquete,character.only = TRUE, quietly = TRUE, warn.conflicts = FALSE)) {
install.packages(as.character(paquete), dependecies = TRUE, repos = "http://cran.us.r-project.org")
library(paquete, character.only = TRUE, quietly = TRUE, warn.conflicts = FALSE)
}
}
paquetes <- c('lubridate', 'magrittr', 'ggvis', 'dplyr', 'tidyr', 'readr',
'ggplot2', 'stringr', 'shiny', 'tibble',
'readODS', 'readxl', "RSQLite")
lapply(paquetes, instalar);
rm(list = ls())
instalar <- function(paquete) {
if (!require(paquete,character.only = TRUE, quietly = TRUE, warn.conflicts = FALSE)) {
install.packages(as.character(paquete), dependecies = TRUE, repos = "http://cran.us.r-project.org")
library(paquete, character.only = TRUE, quietly = TRUE, warn.conflicts = FALSE)
}
}
paquetes <- c('lubridate', 'magrittr', 'ggvis', 'dplyr', 'tidyr', 'readr',
'ggplot2', 'stringr', 'shiny', 'tibble',
'readODS')
lapply(paquetes, instalar);
source("metadata.R")
source("utils.R")
ggplot(MASS::Boston, aes(medv)) +
geom_histogram() +
ylab("") + xlab("Valor medio de las casas (1000s USD)")
ggplot(MASS::Boston, aes(medv)) +
geom_histogram(binwidth=1) +
ylab("") + xlab("Valor medio de las casas (1000s USD)")
with(MASS::Boston, hist(ptratio, freq = FALSE))
B2 <- gather(MASS::Boston, BosVars, BosValues, crim:medv)
ggplot(B2, aes(BosValues)) +
geom_histogram() + xlab("") + ylab("") +
facet_wrap(~ BosVars , scales = "free")
ggplot2movies::movies %>%
filter(length > 2000) %>%
select(length, title) %>%
arrange(desc(length))
glimpse(ggplot2movies::movies)
ggplot2movies::movies %>%
filter(length > 2000) %>%
select(length, title) %>%
arrange(desc(length))
rm(list = ls())
instalar <- function(paquete) {
if (!require(paquete,character.only = TRUE, quietly = TRUE, warn.conflicts = FALSE)) {
install.packages(as.character(paquete), dependecies = TRUE, repos = "http://cran.us.r-project.org")
library(paquete, character.only = TRUE, quietly = TRUE, warn.conflicts = FALSE)
}
}
paquetes <- c('lubridate', 'magrittr', 'ggvis', 'dplyr', 'tidyr', 'readr', 'rvest',
'ggplot2', 'stringr', 'ggthemes', 'googleVis', 'shiny', 'tibble', 'vcd',  'vcdExtra', 'GGally')
lapply(paquetes, instalar);
library('lubridate')
library( 'magrittr')
library( 'ggvis')
library( 'dplyr')
library( 'tidyr')
library( 'readr')
library('rvest')
setwd("~/Dropbox/Tesis/RTesis/Violencia")
print('-----Funciones---------')
print('-----Funciones---------')
print('Funcion para ordenar homicidios')
dataHomicidios<-function(data)
{
cont<-0
ncolumna<-1
for(i in 1:length(data))
{
if(ncolumna==1)
{
newset<-data[i] #Cada data[i] es una columna de 152 datos
ncolumna<-ncolumna+1
}
else if(ncolumna==2 )
{
newset<-cbind(newset, data[i])
ncolumna<-ncolumna+1
}
else
{
newset<-cbind(newset, data[i])
ncolumna<-1
if(cont==0)
{
data2<-newset
colnames(data2)<-c('anio', 'mes', 'dato')
cont=cont+1
}
else
{
colnames(newset)<-c('anio', 'mes', 'dato')
data2<-rbind(data2, newset)
}
}
}
return(data2)
}
print('Funcion para ordenar aÃ±adir municipios')
addMunicipios<-function(data, data_municipios)
{
m<-length(data_municipios[,1])
n<-length(data[,1])
repeticiones<-(n/m)-1
print(paste('repeticiones: ', repeticiones))
newdata<-data_municipios
for(i in 1:repeticiones)
{
newdata<-rbind(newdata, data_municipios)
}
newdata<-cbind(newdata, data)
return(newdata)
}
print('Recuperar los componenetes de un keyID')
recuperarClave<-function(keyID) #Dado una keyID aplicamos split y regresamos los componentes
{
data<-strsplit(keyID, ' ')
ncomponentes<-length(data[[1]])
for(j in 1:ncomponentes)
{
for(i in 1:length(data))
{
if(i==1)
{
newVec<-data[[i]][j]
}
else
{
newVec<-rbind(newVec, data[[i]][j])
}
}
if(j==1)
{
newDF<-newVec
}
else
{
newDF<-cbind(newDF, newVec)
}
}
return(newDF)
}
violenciaPromedioAnio<-function(listaMunicipios)
{
listaMunicipios['violenciaPromedio_anio']<-NA
anios<-unique(listaMunicipios$absMes)
for(i in anios)
{
print(paste('MES ABS: ', i))
media<-mean(subset(listaMunicipios, listaMunicipios$absMes==i)$sumaAEE, na.rm = TRUE) #Promedio por anio
for(j in 1:length(listaMunicipios$sumaAEE))
{
#print(paste(i, j, sep = '     '))
if(is.na(listaMunicipios$sumaAEE[j]))
{
listaMunicipios['violenciaPromedio_anio'][j,1]<-NA
}
else
{
if( listaMunicipios$anio[j]==i )
{
if(listaMunicipios$sumaAEE[j]>media  )
{
listaMunicipios['violenciaPromedio_anio'][j,1]<-1
print(listaMunicipios['violenciaPromedio_anio'][j,1])
}
else
{
listaMunicipios['violenciaPromedio_anio'][j,1]<-0
}
}
}
}
}
return(listaMunicipios)
}
violenciaPromedioAnioEstados<-function(listaMunicipios)
{
listaMunicipios['violenciaPromedio_anio_estado']<-NA
anios<-unique(listaMunicipios$absMes)
estados<-unique(listaMunicipios$estadoID)
for(anio in anios)
{
print(anio)
for(edo in estados)
{
#print(paste('Estado: ', paste(edo, paste( '    MES ABS:', anio)) ))
media<-mean(subset(listaMunicipios, (listaMunicipios$absMes==anio & listaMunicipios$estadoID==edo ))$sumaAEE, na.rm = TRUE) #Promedio por anio
for(j in 1:length(listaMunicipios$sumaAEE))
{
if(is.na(listaMunicipios$sumaAEE[j]))
{
listaMunicipios['violenciaPromedio_anio_estado'][j,1]<-NA
}
else
{
if( listaMunicipios$anio[j]==anio && listaMunicipios$estadoID[j]==edo)
{
print(media)
if(listaMunicipios$sumaAEE[j]>=media)
{
print(media)
listaMunicipios['violenciaPromedio_anio_estado'][j,1]<-1
}
else
{
listaMunicipios['violenciaPromedio_anio_estado'][j,1]<-0
}
}
}
}
}
}
return(listaMunicipios)
}
data2<-readRDS('data2.rds')
data3<- violenciaPromedioAnio(data2 )
saveRDS(data3, 'data3.rds')
data4<-violenciaPromedioAnioEstados(data3)
